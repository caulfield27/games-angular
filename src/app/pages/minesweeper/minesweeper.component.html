<div class="pages_container">
  <div class="mainsweeper_wrapper">
    <div class="my_dropdown_wrapper">
      <div class="hint_wrapper hidden">
        <span></span>
        <!-- <button class="hint_btn" id="hint_btn">
              <img src="/assets/hint.png" alt="hint" />
            </button> -->
      </div>
    </div>
    <div class="game_board">
      <div class="tablo">
        <div class="tablo_content">
          <div class="tablo_flag">
            <tablo [tabloNum]="boardService.flagCounter()" />
          </div>
          <div
            (click)="boardService.restart()"
            class="smile_container"
            role="button"
          >
            @if(boardService.isFailed()){
            <sad-smile />
            }@else {
            <happy-smile />
            }
          </div>
          <div class="timer_container">
            <tablo [tabloNum]="boardService.seconds()" />
          </div>
        </div>
      </div>
      <div #container class="mainsweeper_container">
        @for(field of boardService.fields(); track field.id){
        <button
          (contextmenu)="onFieldCheck($event, $index)"
          (click)="onFieldClick($index)"
          [ngClass]="[
            'field',
            'field_small',
            'field_' +
              (field?.minesAround && (field?.minesAround ?? 4) < 4
                ? field.minesAround
                : 'default'),
            field.isOpen ? 'open_field' : '',
            field?.failed ? 'failed' : ''
          ]"
        >
          @if(field.isFlaged){
          <flag-icon [width]="boardService.levels.easy.flagSize" />
          }@else if (field.isOpen && field.isMine) {
          <mine-icon [width]="boardService.levels.easy.mineSize" />
          }
          {{ field?.minesAround ?? "" }}
        </button>
        }
      </div>
    </div>
  </div>
</div>
